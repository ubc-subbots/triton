<root BTCPP_format="4">
    
    <BehaviorTree ID="MainTree">
        <Sequence>
            <SubTree ID="GateTree"/>
            <SubTree ID="PathTree"/>
            <SubTree ID="BuoyTree"/>
            <SubTree ID="PathTree"/>
            <SubTree ID="BinsTree"/>
            <SubTree ID="TorpedoTree"/>
        </Sequence>
    </BehaviorTree>

    <BehaviorTree ID="GateTree">
        <ReactiveSequence>
          <ReactiveFallback>
            <Condition ID="GateIsVisible"/>
            <Action ID="GateFind"/>
          </ReactiveFallback>
          <ReactiveFallback>
            <Condition ID="GateIsAligned"/>
            <Action ID="GateAlign"/>
          </ReactiveFallback>
          <Action ID="GateGoThrough"/>
        </ReactiveSequence>
    </BehaviorTree>

    <BehaviorTree ID="PathTree">
      <ReactiveSequence>
          <ReactiveFallback>
            <Condition ID="PathIsVisible"/>
            <Action ID="PathFind"/>
          </ReactiveFallback>
          <ReactiveFallback>
            <Condition ID="PathIsAligned"/>
            <Action ID="PathAlign"/>
          </ReactiveFallback>
          <Action ID="PathFollow"/>
        </ReactiveSequence>
    </BehaviorTree>

    <BehaviorTree ID="BuoyTree">
      <ReactiveSequence>
          <ReactiveFallback>
            <Condition ID="BuoyIsVisible"/>
            <Action ID="BuoyFind"/>
          </ReactiveFallback>
          <ReactiveFallback>
            <Condition ID="BuoyIsAligned"/>
            <Action ID="BuoyAlign"/>
          </ReactiveFallback>
          <Action ID="BuoyHit"/>
        </ReactiveSequence>
    </BehaviorTree>

    <BehaviorTree ID="BinTree">
      <Sequence>
        <ReactiveSequence>
          <ReactiveFallback>
            <Condition ID="BinIsVisible"/>
            <Action ID="BinFind"/>
          </ReactiveFallback>
          <ReactiveFallback>
            <Condition ID="BinIsAligned"/>
            <Action ID="BinAlign"/>
          </ReactiveFallback>
          <Action ID="BinAlignAbove"/>
        </ReactiveSequence>
        <Action ID="BinDrop"/>
      </Sequence>
    </BehaviorTree>

    <BehaviorTree ID="TorpedoTree">
      <ReactiveSequence>
          <ReactiveFallback>
            <Condition ID="TargetIsVisible"/>
            <Action ID="TargetFind"/>
          </ReactiveFallback>
          <ReactiveFallback>
            <Condition ID="TargetIsAligned"/>
            <Action ID="TargetAlign"/>
          </ReactiveFallback>
          <Action ID="TargetShoot"/>
        </ReactiveSequence>
    </BehaviorTree>

</root>